<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test page for Events API</title>
  <script type='text/javascript' id='lux-shop-loader' src='//dev.api.shoppable.co/assets/js/shop.js?token=8YE88duhWX113MyFe79cb80efce8ee5a'></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <link href="http://combinecouture.com/css/frame.css" rel="stylesheet" type="text/css">
  <link href="/css/cart.css" rel="stylesheet" type="text/css">
</head>
<body>
  <a href="#" class="lux-cart-frame" data-style="modal" data-checkout="https://combinecouture.com/test/checkout.html">SHOPPING BAG</a> <span class="lux-cart-label">&nbsp;</span>
  <br /><br />

  <h2>Testing Events API with a Grid Frame</h2>
  <p>Page contains all the various Events API hooks for testing purposes.</p>

  <div class='lux-product-frame' data-frame='grid' data-id='4' data-share='1'></div>

  <script type="text/javascript">
    var _allFramesLoaded,
      _triggerGridModal,
      _addItemToCart,
      _removeItemFromCart,
      _updateItemInCart,
      _emptyCart;

    $(document).ready(function() {

      shopevent.set_hook('allFramesLoaded','cageify', function (cartId) {
        _allFramesLoaded = {};
        _allFramesLoaded.cartId = cartId;
      });

      shopevent.set_hook('triggerGridModal', 'test_event', function (cartId, partNumber, productName, shareURL) {
        _triggerGridModal = {};
        _triggerGridModal.cartId = cartId;
        _triggerGridModal.partNumber = partNumber;
        _triggerGridModal.productName = productName;
        _triggerGridModal.shareURL = shareURL;
      });

      shopevent.set_hook('addItemToCart', 'test_event', function (cartId, product, productArray) {
        _addItemToCart = {};
        _addItemToCart.cartId = cartId;
        _addItemToCart.product = product;
        _addItemToCart.productArray = productArray;
      });

      shopevent.set_hook('removeItemFromCart', 'test_event', function (cartId, product, productArray) {
        _removeItemFromCart = {};
        _removeItemFromCart.cartId = cartId;
        _removeItemFromCart.product = product;
        _removeItemFromCart.productArray = productArray;
      });

      shopevent.set_hook('updateItemInCart', 'test_event', function (cartId, product, productArray) {
        _updateItemInCart = {};
        _updateItemInCart.cartId = cartId;
        _updateItemInCart.product = product;
        _updateItemInCart.productArray = productArray;
      });

      shopevent.set_hook('emptyCart', 'test_event', function (cartId, productArray) {
        _emptyCart = {};
        _emptyCart.cartId = cartId;
        _emptyCart.productArray = productArray;
      });

    });

  </script>
</body>
</html>